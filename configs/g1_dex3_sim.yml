robot_cfg:
  # Robot name - must match the config filename
  name: g1_dex3_sim
  
  # Path to URDF file
  urdf_path: g1_dex3_sim/urdf/g1_body29_hand14.urdf
  
  # Path to MJCF XML directory - used to load scene files
  # MuJoCo will look for {tasktype}_scene.xml in this directory
  # Available scene files: scene_29dof.xml, scene_43dof.xml
  xml_path: g1_dex3_sim/
  
  # Path to mesh files directory
  mesh_path: g1_dex3_sim/meshes/

  # Joint indices for all robot joints (43 DOF total: 29 body + 14 hand joints)
  # URDF joint order: legs (0-11), waist (12-14), left arm (15-21), left hand (22-28), right arm (29-35), right hand (36-42)
  # Body DOF: legs (0-11) + waist (12-14) + left arm (15-21) + right arm (29-35) = 29 DOF
  # Hand DOF: left hand (22-28) + right hand (36-42) = 14 DOF
  # Total: 43 DOF (all joints included for proper indexing in simulation code)
  robot_indices: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42]
  
  # Body/torso joint indices (legs + waist = 15 DOF)
  # Legs: 0-11 (left_hip_pitch through right_ankle_roll)
  # Waist: 12-14 (waist_yaw, waist_roll, waist_pitch)
  body_indices: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
  
  # Left arm joint indices (7 DOF: shoulder pitch/roll/yaw, elbow, wrist roll/pitch/yaw)
  left_arm_indices: [15, 16, 17, 18, 19, 20, 21]
  
  # Left hand joint indices (7 DOF: thumb 0/1/2, middle 0/1, index 0/1)
  # These joints are included in robot_indices (22-28) for proper indexing in simulation code
  # Joint names: left_hand_thumb_0/1/2_joint, left_hand_middle_0/1_joint, left_hand_index_0/1_joint
  left_hand_indices: [22, 23, 24, 25, 26, 27, 28]
  
  # Right arm joint indices (7 DOF: shoulder pitch/roll/yaw, elbow, wrist roll/pitch/yaw)
  right_arm_indices: [29, 30, 31, 32, 33, 34, 35]
  
  # Right hand joint indices (7 DOF: thumb 0/1/2, middle 0/1, index 0/1)
  # Joint names: right_hand_thumb_0/1/2_joint, right_hand_middle_0/1_joint, right_hand_index_0/1_joint
  right_hand_indices: [36, 37, 38, 39, 40, 41, 42]
  
  # Waist joint index (first waist joint: waist_yaw)
  waist_index: 12

  # Motor/actuator indices for arm controller only (14 DOF: left arm + right arm, excluding body/legs and hands)
  # This defines which joints the arm RobotController computes
  # Body/leg joints (0-14) are controlled separately by body controller
  # Hand joints (22-28, 36-42) are computed separately by hand controller
  # Note: In simulation, all 43 actuators (including hands) are controlled via PD control
  # Hand joints receive different PD gains (kp=20, kd=0.25) and joint stiffness is set to 0 (same as H1)
  arm_motor_indices: [15, 16, 17, 18, 19, 20, 21, 29, 30, 31, 32, 33, 34, 35]

  # Head position for camera/viewer setup (x, y, z relative to robot base)
  # Head is fixed to torso_link via head_joint (fixed joint)
  head_pos: [ 0.2, 0.0, 0.5 ]
  # head_pos: [ 0.0, 0.0, 0.0 ]
  
  # Wrist link names for forward kinematics
  # These are the last wrist links before the hand attachment
  left_wrist_name: left_wrist_yaw_link
  right_wrist_name: right_wrist_yaw_link

  body:
    in_lp_alpha: 0.9

  arm:
    dt: 0.016667

    scaling_factor: 1.0
    base_damping: 1e-2
    max_damping: 1e-2
    eps: 1e-2

    in_lp_alpha: 0.5
    out_lp_alpha: 0.5

  hand:
    left_hand:
      # Dex3 hand configuration: 3 fingers (thumb, middle, index)
      # G1 Dex3 hand structure: thumb (3 joints), middle (2 joints), index (2 joints)
      # scaling_factor: one per fingertip target (3 fingers) + dex_pilot entries (2)
      scaling_factor: [ 1.1, 1.1, 1.1, 1.0, 1.0 ]
      in_lp_alpha: 0.5
      out_lp_alpha: 0.5

      # Target link configuration for Dex3 hand
      # target_origin_link_names: origin links (palm for fingertips, thumb tip for dex_pilot)
      # target_task_link_names: target fingertip links (thumb_2, middle_1, index_1) + dex_pilot targets
      # Note: G1 uses "index" not "ring" - adapter maps Dex5 ring+pinky to this
      target_origin_link_names: [ "left_hand_palm_link", "left_hand_palm_link", "left_hand_palm_link", "left_hand_thumb_2_link", "left_hand_thumb_2_link" ]
      target_task_link_names: [ "left_hand_thumb_2_link", "left_hand_middle_1_link", "left_hand_index_1_link", "left_hand_middle_1_link", "left_hand_index_1_link" ]
      
      # Human keypoint indices mapping for Dex3
      # First array: origin indices (0 = palm, 4 = thumb_tip for dex_pilot)
      # Second array: target indices [4, 9, 14] = thumb, merged middle, merged ring/index
      # Indices 19 and 24 are zeroed out by the Dex5-to-Dex3 adapter
      target_link_human_indices: [ [0, 0, 0, 4, 4], [4, 9, 14, 9, 14] ]
      
      # Dex pilot configuration for precision control
      # None for fingertips, constraints for dex_pilot entries
      dex_pilot: [None, None, None, ['<=', 0.03, 1e-4, 200], ['<=', 0.03, 1e-4, 200]]

      # Mimic joint configuration: child joints follow parent joints
      # G1 Dex3: thumb_1 and thumb_2 may mimic thumb_0, middle_1 mimics middle_0, index_1 mimics index_0
      # Note: G1 hand joints are: thumb_0/1/2, middle_0/1, index_0/1
      # If no mimic joints exist, this can be empty or removed
      mimic:
        parent_joints: []
        child_joints: []
        mimic_factors: []

    right_hand:
      # Dex3 hand configuration: 3 fingers (thumb, middle, index)
      # G1 Dex3 hand structure: thumb (3 joints), middle (2 joints), index (2 joints)
      # Same structure as left hand
      scaling_factor: [ 1.1, 1.1, 1.1, 1.0, 1.0 ]
      in_lp_alpha: 0.5
      out_lp_alpha: 0.5

      # Target link configuration for Dex3 hand (right side)
      # Note: G1 uses "index" not "ring" - adapter maps Dex5 ring+pinky to this
      target_origin_link_names: [ "right_hand_palm_link", "right_hand_palm_link", "right_hand_palm_link", "right_hand_thumb_2_link", "right_hand_thumb_2_link"]
      target_task_link_names: [ "right_hand_thumb_2_link", "right_hand_middle_1_link", "right_hand_index_1_link", "right_hand_middle_1_link", "right_hand_index_1_link" ]
      
      # Human keypoint indices mapping for Dex3 (right hand)
      target_link_human_indices: [ [0, 0, 0, 4, 4], [4, 9, 14, 9, 14] ]
      dex_pilot: [None, None, None, ['<=', 0.015, 1e-4, 200], ['<=', 0.015, 1e-4, 200]]

      # Mimic joint configuration (right hand)
      # If no mimic joints exist in G1 hand, this can be empty
      mimic:
        parent_joints: []
        child_joints: []
        mimic_factors: []
